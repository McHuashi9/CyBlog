---
title: 第二周成果
date: 2025-10-12 07:55:11
last_updated: 2025-10-12T00:03:14.000Z
tags: [Hexo, 博客]
categories: [博客]
---

### ✅ 已完成的核心成果

1. **成功切换至 Butterfly 主题**
   - 安全安装并配置了功能丰富的 Butterfly 主题
   - 避免了 Git 子模块问题（采用直接克隆 + .gitignore 方案）
   - 完善了主题基础配置（站点信息、菜单、色彩等）

2. **解决了关键网络问题**
   - 诊断并修复了 DNS 污染问题（github.com 被解析到 127.0.0.1）
   - 配置了可靠的 DNS 服务器（1.1.1.1 / 8.8.8.8）
   - 验证了 Git 连接和 CloudFlare Pages 自动构建流程

3. **建立了完整的自动化工作流**
   - `new-post-and-deploy.sh` - 文章创建和发布脚本
   - `update-post.sh` - 文章更新和时间戳管理脚本
   - 支持 Butterfly 主题的特色字段（封面图、描述等）

## 📝 重要技术要点

### 1. 主题管理要点
```bash
# 安全安装主题（避免子模块问题）
git clone https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly
echo "themes/butterfly/" >> .gitignore

# 必要依赖安装
npm install hexo-renderer-pug hexo-renderer-stylus --save
```

### 2. 网络问题解决方案
```bash
# DNS 修复命令
echo "nameserver 1.1.1.1" | sudo tee /etc/resolv.conf
echo "nameserver 1.0.0.1" | sudo tee -a /etc/resolv.conf
sudo systemctl restart systemd-resolved

# 验证修复
nslookup github.com  # 应该显示真实IP，不是127.0.0.1
```

### 3. 自动化脚本核心功能

**文章创建脚本** (`new-post-and-deploy.sh`):
- 创建带基本 front-matter 的文章模板
- 等待用户编辑后自动提交推送
- 触发 CloudFlare Pages 自动构建

**文章更新脚本** (`update-post.sh`):
- 智能搜索文章文件（支持部分匹配）
- 自动更新时间戳（UTC 格式）
- 检查并提示补充元数据
- 一键提交和部署

### 4. Git 操作要点
```bash
# 修改最近提交信息
git commit --amend -m "新的提交信息"
git push origin main --force

# 检查远程仓库配置
git remote -v  # 应该是 https://github.com/McHuashi9/CyBlog.git
```

## 🛠️ 关键技术配置

### 页面创建要点
```bash
# 创建必要页面
hexo new page tags
hexo new page categories  
hexo new page about
```

## 🔄 标准工作流程

### 发布新文章
```bash
./new-post-and-deploy.sh "文章标题"
# → 创建文件 → 用VSCode编辑 → 按回车发布
```

### 更新现有文章
```bash
./update-post.sh "文章标题或部分名称"
# → 更新时间戳 → 检查元数据 → 确认发布
```

## 📊 当前博客状态

- **技术栈**: Hexo + Butterfly 主题
- **部署**: CloudFlare Pages 自动构建
- **仓库**: https://github.com/McHuashi9/CyBlog
- **访问**: https://cyblog-b9j.pages.dev
- **功能**: 标签页、分类页、关于页、时间戳显示

## 🚀 后续优化方向

### 高优先级
1. 集成 Giscus 评论系统
2. 添加站内搜索功能
3. 优化移动端显示

### 中优先级  
1. 添加文章封面图系统
2. 配置 SEO 优化
3. 添加阅读统计

### 低优先级
1. 自定义 CSS 样式
2. 添加动画效果
3. 集成分析工具

## ⚠️ 故障排除备忘

### 网络连接问题
```bash
# 快速诊断
nslookup github.com
git ls-remote origin
```
